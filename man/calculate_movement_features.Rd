% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/classify_activity_utils.R
\name{calculate_movement_features}
\alias{calculate_movement_features}
\title{Calculate movement features for activity classification}
\usage{
calculate_movement_features(
  dets,
  features,
  window_size,
  pause_threshold = NULL
)
}
\arguments{
\item{dets}{Dataframe of AnimalTrackR detections with at least the following
columns: \itemize{
\item \code{vid_id}
\item \code{Frame}
\item \code{xc}
\item \code{yc}
}
If detections are present for multiple individuals, an additional column
specifying individual ID can be provided via the \code{indiv_id} parameter.
Any other columns in the dataframe will be ignored and retained in the
output.}

\item{features}{Character vector of movement features to use for
classification. Options include: \itemize{
\item \code{"speed"} - Instantaneous speed (pixels per frame)
\item \code{"acceleration"} - Change in speed between frames
\item \code{"turning"} - Absolute turning angle (radians)
\item \code{"speed_var"} - Variance in speed over rolling window
\item \code{"speed_smooth"} - Speed smoothed over rolling window
\item \code{"meander"} - Path tortuosity measure
\item \code{"path_straightness"} - Net displacement to path length ratio
\item \code{"paused"} - Binary indicator of paused state
\item \code{"time_since_pause"} - Frames since last pause
\item \code{"spatial_spread"} - Space use variance in rolling window
\item \code{"edge_preference"} - Proximity to arena edges
\item \code{"roaming_entropy"} - Spatial entropy based on grid occupancy
}
Default features are \code{c("speed", "acceleration", "turning")}. A more
detailed description of each feature can be found in
\code{vignette("classify-activity")}.}

\item{window_size}{Integer. Rolling window size for smoothed features. The
window will be \code{window_size} rows wide in the \code{dets} dataframe, so
users should consider the framerate of their data when selecting this
parameter. Default is 5.}

\item{pause_threshold}{Numeric. Speed threshold (in pixels per frame) below
which the animal is considered to be paused/stationary. Required if using
pause-based features (\code{"paused"} or \code{"time_since_pause"}).
Default is \code{NULL}.}
}
\value{
A dataframe identical to \code{dets} with additional columns for
each requested feature.
}
\description{
This function calculates movement features from AnimalTrackR detections that
can be used for behavioural classification. Users can specify the features
they would like and a dataframe with the calculated features is returned.
}
\examples{
\dontrun{
# Load example detection data
dets <- read.csv("path/to/detections.csv")

# Calculate speed, acceleration and turning features with a rolling window
# of 5 frames
feature_dets <- calculate_movement_features(
 dets,
 features = c("speed", "acceleration", "turning"),
 window_size = 5
)

# Calculate features including pause-based features
feature_dets <- calculate_movement_features(
 dets,
 features = c("speed", "acceleration", "paused", "time_since_pause"),
 window_size = 5,
 pause_threshold = 0.1
)
}

}
\seealso{
\code{\link{classify_activity}} for end-to-end activity
classification
}
